(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{215:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("This was a fairly simple interface, but it presented challenges on the business level and the technical level.")]),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("The business differences arise because in the Rostering application the berthing model was full-featured, whereas the ship-side system was an older application designed primarily as a key-card printing facility (rather than a database). Since the printing aspect is expensive to rewrite, Disney wanted to keep the existing system in place.")]),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("On the technical level, Disney gave us a WSDL for the service to be accessed, but we could not access the live endpoint due to WAN security. Visual Studio has a tool for creating client service proxies, but it requires a live connection to discover the protocols.")]),t._v(" "),t._m(3),t._v(" "),a("p",[t._v("The main problem with this data transfer arises from a mis-match in the models between Fidelio and MAPS.")]),t._v(" "),a("p",[t._v("MAPS hold the berthing data with fully qualified start and end dates, which means that a crew member can be assigned any number of berth places on future dates. However, Fidelio is structured to hold just a single berth assignment record per person.")]),t._v(" "),t._m(4),t._v(" "),a("p",[t._v("Crew are entitled to a certain level of accommodation according to rank, however it arises that the person may have to initially take a cabin of lower level if the appropriate level isn’t available. The crew member will then change to a higher level cabin when it becomes available.")]),t._v(" "),a("p",[t._v("When transferring the data, if two records such as above are transferred together, one will be overridden by the other when received by Fidelio.")]),t._v(" "),a("p",[t._v("Disney acknowledged that the Fidelio system is out of date, but do not wish to modify it, as it’s main function (key-card printing) was specialized and expensive to rebuild.")]),t._v(" "),t._m(5),t._v(" "),a("p",[t._v("To handle the problem, the interface sends only one record per person. The record is selected by a Linq statement that looks for any record that is current, or if none, the next to become current.")]),t._v(" "),t._m(6),a("p",[t._v("This means that the majority of the records will be sent well in advance of the crew member embarking, giving enough time to print key-cards.")]),t._v(" "),a("MiniMap")],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"project-challenges"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#project-challenges","aria-hidden":"true"}},[this._v("#")]),this._v(" Project Challenges")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"dealing-with-a-legacy-application"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dealing-with-a-legacy-application","aria-hidden":"true"}},[this._v("#")]),this._v(" Dealing with a Legacy Application")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"building-the-web-service-proxy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#building-the-web-service-proxy","aria-hidden":"true"}},[this._v("#")]),this._v(" Building the Web Service Proxy")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"system-model-mismatch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#system-model-mismatch","aria-hidden":"true"}},[this._v("#")]),this._v(" System Model Mismatch")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"mid-journey-cabin-changes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mid-journey-cabin-changes","aria-hidden":"true"}},[this._v("#")]),this._v(" Mid-Journey Cabin Changes")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"current-or-next"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#current-or-next","aria-hidden":"true"}},[this._v("#")]),this._v(" Current-or-Next")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-csharp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-csharp"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" currentOrNext "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n   "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pl "),a("span",{attrs:{class:"token keyword"}},[t._v("in")]),t._v(" query"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("Where")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pl"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" pl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Expired "),a("span",{attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("false")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),a("span",{attrs:{class:"token keyword"}},[t._v("group")]),t._v(" pl by pl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token class-name"}},[t._v("Pernr")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("into")]),t._v(" g\n   "),a("span",{attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" \n   "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     PostingLocation "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" \n       g"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("Where")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pl2"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" pl2"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ValidFromDate "),a("span",{attrs:{class:"token operator"}},[t._v("==")]),t._v(" g"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("Min")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pl3"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" pl3"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ValidFromDate"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("FirstOrDefault")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("Select")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" c"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PostingLocation"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])}],!1,null,null,null);n.options.__file="challenges.md";e.default=n.exports}}]);